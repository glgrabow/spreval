<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="spreval">
<title>Solid-set Sprinkler Systems • spreval</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Solid-set Sprinkler Systems">
<meta property="og:description" content="spreval">
<meta property="og:image" content="https://glgrabow.github.io/spreval/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">spreval</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/landscape.html">Landscape Sprinkler Systems</a>
    <a class="dropdown-item" href="../articles/lateral-move.html">lateral-move systems</a>
    <a class="dropdown-item" href="../articles/solid-set.html">Solid-set Sprinkler Systems</a>
    <a class="dropdown-item" href="../articles/traveling-sys.html">Traveling Systems</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/glgrabow/spreval/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Solid-set Sprinkler Systems</h1>
                        <h4 data-toc-skip class="author">Garry Grabow</h4>
            
            <h4 data-toc-skip class="date">2022-03-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/glgrabow/spreval/blob/HEAD/vignettes/solid-set.Rmd" class="external-link"><code>vignettes/solid-set.Rmd</code></a></small>
      <div class="d-none name"><code>solid-set.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h2>
<p>Solid-set Sprinkler systems include both buried and surface systems that are “permanent” in that sprinkler laterals are fixed. This is in contrast to lateral-move sprinkler systems in which one or more laterals are moved for a subsequent irrigation. In order to reduce pump and mainline cost, solid-set systems are normally divided into zones so that the pumping requirement based on the peak use rate of the crop for the whole field matches the system requirement (flow rate) of the zone. In this way all zones can be operated sequentially over an irrigation event before the initial zone requires a subsequent irrigation. These systems are generally more expensive than lateral move or hose-pull traveling gun systems due to the installed infrastructure, but do allow greater flexibility in operation. These systems are typically found in higher value agriculture (fruit or nut trees) or in wastewater irrigation. Residential and commercial turf irrigation systems are similar, and the functions in <code>spreval</code> can be used for either application.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Data for this example are taken from the <code>catchcan</code> dataset. This data set contains catch can data for three types of sprinkler systems. The dataset for our lateral move example looks like this:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">catchcan</span><span class="op">)</span>
<span class="va">cc.data</span><span class="op">&lt;-</span><span class="va">catchcan</span><span class="op">$</span><span class="va">solid.set</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">cc.data</span>,format<span class="op">=</span><span class="st">"html"</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
c1
</th>
<th style="text-align:right;">
c2
</th>
<th style="text-align:right;">
c3
</th>
<th style="text-align:right;">
c4
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
r1
</td>
<td style="text-align:right;">
0.57
</td>
<td style="text-align:right;">
0.69
</td>
<td style="text-align:right;">
0.83
</td>
<td style="text-align:right;">
0.65
</td>
</tr>
<tr>
<td style="text-align:left;">
r2
</td>
<td style="text-align:right;">
0.61
</td>
<td style="text-align:right;">
0.38
</td>
<td style="text-align:right;">
0.27
</td>
<td style="text-align:right;">
0.64
</td>
</tr>
<tr>
<td style="text-align:left;">
r3
</td>
<td style="text-align:right;">
0.51
</td>
<td style="text-align:right;">
0.26
</td>
<td style="text-align:right;">
0.36
</td>
<td style="text-align:right;">
0.52
</td>
</tr>
<tr>
<td style="text-align:left;">
r4
</td>
<td style="text-align:right;">
0.79
</td>
<td style="text-align:right;">
0.65
</td>
<td style="text-align:right;">
0.61
</td>
<td style="text-align:right;">
0.86
</td>
</tr>
</tbody>
</table>
<p>This is a plan view of catch can data (in.) collected between 4 sprinklers spaced at a 80 ft x 80 ft (lateral x sprinkler) spacing. The catch cans are spaced at 20 ft x 20 ft.</p>
<p>These data may be plotted along with the sprinkler locations as a contour and image plot for a better representation of application uniformity using <code>speval::plotss</code>. Here, the upper left sprinkler is given an arbitrary location of (0,0).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#x,y matrix 20 ft x 20 ft catch can spacing</span>
<span class="va">x</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">70</span>,<span class="fl">20</span><span class="op">)</span> <span class="co"># catch can x coordinates. </span>
<span class="va">y</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="op">-</span><span class="fl">70</span>,<span class="op">-</span><span class="fl">20</span><span class="op">)</span> <span class="co">#catch can y coordinates. </span>
<span class="va">grd</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span><span class="op">)</span> <span class="co"># prepare list for make.surface function [fields]</span>
<span class="va">grid</span><span class="op">&lt;-</span><span class="fu">fields</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/fields/man/grid.list.html" class="external-link">make.surface.grid</a></span><span class="op">(</span><span class="va">grd</span><span class="op">)</span>
<span class="va">depths</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">cc.data</span><span class="op">)</span>,ncol<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="co">#transpose matrix and stack rows into 1 column</span>
<span class="va">cdata</span><span class="op">&lt;-</span><span class="fu"><a href="https://www.math.uzh.ch/pages/spam/reference/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">grid</span><span class="op">[</span> ,<span class="fl">1</span><span class="op">]</span>,<span class="va">grid</span><span class="op">[</span> ,<span class="fl">2</span><span class="op">]</span>,<span class="va">depths</span><span class="op">)</span> <span class="co">#construct required catch can data matrix (x,y, depth)</span>
<span class="va">sp.x</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">80</span>,<span class="fl">80</span><span class="op">)</span>;<span class="va">sp.y</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="op">-</span><span class="fl">80</span>,<span class="fl">0</span>,<span class="op">-</span><span class="fl">80</span><span class="op">)</span><span class="co"># sprinkler spacing 80 x 80 ft</span>
<span class="va">sploc</span><span class="op">&lt;-</span><span class="fu"><a href="https://www.math.uzh.ch/pages/spam/reference/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">sp.x</span>,<span class="va">sp.y</span><span class="op">)</span> <span class="co">#construct required sprinkler location matrix</span>
<span class="va">spr.lab</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"s12"</span>,<span class="st">"s22"</span>,<span class="st">"s13"</span>,<span class="st">"s23"</span><span class="op">)</span><span class="co"># label sprinklers as in reference</span>
<span class="fu"><a href="../reference/plotss.html">plotss</a></span><span class="op">(</span><span class="va">cdata</span>,<span class="va">sploc</span>,spklab<span class="op">=</span><span class="va">spr.lab</span><span class="op">)</span><span class="co"># call function</span></code></pre></div>
[1] -3.6 83.6 -87.2 3.6
<div class="figure">
<img src="solid-set_files/figure-html/unnamed-chunk-3-1.png" alt="Raw catch can data, in." width="480"><p class="caption">
Raw catch can data, in.
</p>
</div>
<p>In this example, there is no need to overlap test data, as with lateral-move and traveling gun system test data, to evaluate uniformity and efficiency.</p>
<p>Now we can use some measures of application uniformity and efficiency, specifically Christiansen’s coefficient of uniformity, distribution uniformity (of low quarter), distribution uniformity of the low half, and potential efficiency of the low quarter using the respective functions <code>CU</code>, <code>DU</code>, <code>DU.lh</code> and <code>PELQ</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ss.uni</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="../reference/CU.html">CU</a></span><span class="op">(</span><span class="va">cc.data</span><span class="op">)</span>,<span class="fu"><a href="../reference/DU.html">DU</a></span><span class="op">(</span><span class="va">cc.data</span><span class="op">)</span>,<span class="fu"><a href="../reference/DU.lh.html">DU.lh</a></span><span class="op">(</span><span class="va">cc.data</span><span class="op">)</span>,<span class="fu"><a href="../reference/PELQ.html">PELQ</a></span><span class="op">(</span><span class="va">cc.data</span>,SI<span class="op">=</span><span class="cn">FALSE</span>,rate<span class="op">=</span><span class="fl">16.98</span>,ss<span class="op">=</span><span class="fl">80</span>,sl<span class="op">=</span><span class="fl">80</span>,dur<span class="op">=</span><span class="fl">2.25</span><span class="op">)</span><span class="op">)</span><span class="co"># use U.S. cust. units</span>
<span class="va">table</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">ss.uni</span>,<span class="fl">0</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">table</span><span class="op">)</span>,col.names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CU"</span>,<span class="st">"DU"</span>,<span class="st">"DU.lh"</span>,<span class="st">"PELQ"</span><span class="op">)</span><span class="op">)</span><span class="co">#transpose array (table) for display</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">CU</th>
<th align="right">DU</th>
<th align="right">DU.lh</th>
<th align="right">PELQ</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">75</td>
<td align="right">55</td>
<td align="right">76</td>
<td align="right">55</td>
</tr></tbody>
</table>
<p>Note that in the reference, the sprinkler discharge rate (which is a required parameter in <code>PELQ</code>)is not given. In this example, the sprinkler discharge rate (16.98 gpm) was simply calculated using the precipitation rate (in./hr) which is the average catch (in.) divided by the irrigation duration (2.25 hr), and the sprinkler and lateral spacing (80 ft x 80 ft). By using the average catch rate to obtain the precipitation rate, the PELQ exactly matches DU. The actual sprinkler discharge would be slightly greater, as drift and evaporation losses from the sprinklers to the catch cans would not be accounted for, and the PELQ would therefore be lower than in this example.</p>
<p>We can also look at the distribution of catch can depths using <code><a href="../reference/eda.shape.html">spreval::eda.shape</a></code></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/eda.shape.html">eda.shape</a></span><span class="op">(</span><span class="fu"><a href="https://www.math.uzh.ch/pages/spam/reference/Coercion.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">cc.data</span><span class="op">)</span><span class="op">)</span> <span class="co"># need to convert matrix to vector</span></code></pre></div>
<div class="figure">
<img src="solid-set_files/figure-html/unnamed-chunk-5-1.png" alt="Distribution of catch can data in example" width="480"><p class="caption">
Distribution of catch can data in example
</p>
</div>
<p>If a target depth is known, we can also compute percentile receiving depths lesser or greater than the target depth using speval::adper. This function uses both a density plot and empirical cumulative distribution function to determine the portion of catches above and below a given target depth.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">results</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/adper.html">adper</a></span><span class="op">(</span><span class="va">cc.data</span>,target<span class="op">=</span><span class="fl">0.57</span><span class="op">)</span>
<span class="va">headings</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">results</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="va">results</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="va">results</span><span class="op">[[</span><span class="fl">5</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="va">results</span><span class="op">[[</span><span class="fl">7</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="co">#extract label elements</span>
<span class="va">row.2</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">results</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="va">results</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="va">results</span><span class="op">[[</span><span class="fl">6</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="va">results</span><span class="op">[[</span><span class="fl">8</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="co">#extract value elements</span>
<span class="va">adper.table</span><span class="op">&lt;-</span><span class="fu"><a href="https://www.math.uzh.ch/pages/spam/reference/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">headings</span>,<span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">row.2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">adper.table</span>,row.names<span class="op">=</span><span class="cn">FALSE</span>,caption<span class="op">=</span><span class="st">"adequacy and efficiency using density and cumulative distributions"</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>adequacy and efficiency using density and cumulative distributions</caption>
<tbody>
<tr class="odd">
<td align="left">adequacy.density=</td>
<td align="left">eff.density=</td>
<td align="left">adequacy.ecdf=</td>
<td align="left">eff.ecdf=</td>
</tr>
<tr class="even">
<td align="left">0.557</td>
<td align="left">0.443</td>
<td align="left">0.562</td>
<td align="left">0.438</td>
</tr>
</tbody>
</table>
<div class="figure">
<img src="solid-set_files/figure-html/unnamed-chunk-6-1.png" alt="Percentile plot with target depth for example" width="480"><img src="solid-set_files/figure-html/unnamed-chunk-6-2.png" alt="Percentile plot with target depth for example" width="480"><p class="caption">
Percentile plot with target depth for example
</p>
</div>
<p>Note that for either the “density” or “ecdf” plot approaches, the adequacy and efficiency values add to 1.0. With this function “adequacy” is simply the proportion of catches that receive depths equal to or greater than the target, while “efficiency” is defined at the proportion of catches that receive less than or equal to the target amount. Note also that this is not the standard definition of efficiency, in that it does not consider the difference in catch depths and the target depth, but only the proportion of depths less than or equal to the target depth. For a more traditional assessment of efficiency, we can use the function <code><a href="../reference/eff.html">spreval::eff</a></code>. This function uses a density plot to account for differences in catch depths from the target:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">eff.table</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/eff.html">eff</a></span><span class="op">(</span><span class="va">cc.data</span>,target<span class="op">=</span><span class="fl">0.57</span><span class="op">)</span><span class="co"># call function</span>
<span class="va">eff.table</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">eff.table</span><span class="op">$</span><span class="va">appeff</span>,<span class="va">eff.table</span><span class="op">$</span><span class="va">appadeq</span><span class="op">)</span>,<span class="fl">3</span><span class="op">)</span>
<span class="va">labels</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/timeDate/man/base-c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"efficiency"</span>,<span class="st">"adequacy"</span><span class="op">)</span>
<span class="va">eff.table</span><span class="op">&lt;-</span><span class="fu"><a href="https://www.math.uzh.ch/pages/spam/reference/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">labels</span>,<span class="va">eff.table</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">eff.table</span><span class="op">)</span><span class="co">#</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">labels</th>
<th align="left">eff.table</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">efficiency</td>
<td align="left">0.86</td>
</tr>
<tr class="even">
<td align="left">adequacy</td>
<td align="left">0.868</td>
</tr>
</tbody>
</table>
<p>A plot of an empirical cumulative distribution step function, rotated so that the soil surface is represented at the top of the plot, helps to visualize the above results. To do this, the function <code><a href="../reference/sfplot.html">spreval::sfplot</a></code> may be used.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/sfplot.html">sfplot</a></span><span class="op">(</span><span class="fu"><a href="https://www.math.uzh.ch/pages/spam/reference/Coercion.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">cc.data</span><span class="op">)</span>,target<span class="op">=</span><span class="fl">0.57</span>,ylab<span class="op">=</span><span class="st">"depth caught, in."</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="solid-set_files/figure-html/unnamed-chunk-8-1.png" alt="Rotated ECDF plot with target depth for example" width="384"><p class="caption">
Rotated ECDF plot with target depth for example
</p>
</div>
<p>The <code>eff</code> function integrates the area bounded by the catch depths and the target depth from a density plot and thus accounts for the deviation from the target depth and not just the relative number below and above the depth as with <code>adper</code>, and thus is a better measure of efficiency in the traditional sense. Using catch can data, however, does not account for losses between the sprinkler nozzle and the canopy or soil surface.</p>
<p>The target depth is usually the depth needed to refill the soil profile to field capacity, or in other words, the soil-moisture deficit (SMD) at the time of irrigation. As efficiency is traditionally defined as the amount of water applied that is stored in the root zone divided by the total amount of water applied, efficiency for a fixed applied irrigation depth can change depending on the initial SMD (target). To illustrate this we can run <code>sfplot</code> at different levels of SMD for the same fixed irrigation depth.</p>
<table class="table">
<caption>Efficiency and adequacy for various target depths, using example catch can data</caption>
<tbody>
<tr class="odd">
<td align="left">targets</td>
<td align="right">0.40</td>
<td align="right">0.50</td>
<td align="right">0.60</td>
<td align="right">0.70</td>
</tr>
<tr class="even">
<td align="left">effic</td>
<td align="right">0.66</td>
<td align="right">0.78</td>
<td align="right">0.89</td>
<td align="right">0.95</td>
</tr>
<tr class="odd">
<td align="left">adeq</td>
<td align="right">0.94</td>
<td align="right">0.90</td>
<td align="right">0.85</td>
<td align="right">0.78</td>
</tr>
</tbody>
</table>
<p>Notice how efficiency increases with increasing target depth (e.g., SMD) for this example irrigation that applied an average of 5.7 in (catch can average). Efficiency can approach 100% with deficit irrigation, but with greater efficiency comes reduced adequacy as can be seen in the table above.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Evans, R.O., Barker J.C., Smith J.T., Sheffield R.E. 1997a. Field calibration procedures for animal wastewater application equipment, stationary sprinkler irrigation system. NC Cooperative Extension Service publication AG 553-1. Raleigh, NC. (<a href="https://irrigation.wordpress.ncsu.edu/files/2017/01/ag-553-1-stationary-sprinkler.pdf" class="external-link uri">https://irrigation.wordpress.ncsu.edu/files/2017/01/ag-553-1-stationary-sprinkler.pdf</a>).</p>
<p>Mirriam and Keller, 1978. Farm System Irrigation Evaluation: A Guide for Management. PP 41-43. Utah State University, Logan, Utah. (<a href="https://pdf.usaid.gov/pdf_docs/PNAAG745.pdf" class="external-link uri">https://pdf.usaid.gov/pdf_docs/PNAAG745.pdf</a>).</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Garry Grabow.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
